## 1.分布式ID相关
> [vivo 自研鲁班分布式 ID 服务实践](https://mp.weixin.qq.com/s/MHhxU_G0d303R-b6T6EcoQ)
> [分布式唯一ID浅谈](https://mp.weixin.qq.com/s/10hn22MInanJXuT6wOYh1Q)

### 1.常见的生成方式
![](https://raw.githubusercontent.com/leexsh/picture_save/main/20230821234304.png?token=AEVT5G2XEXGYUSHVAFZNUQ3E4ODEO)

#### UUID
 - UUID的标准形式为 32 个十六进制数组成的字符串，且分割为五个部分，例如：467e8542-2275-4163-95d6-7adc205580a9;
-  可以基于时间、随机数等生成，可以完全在本地生成，不依赖网络；但是会造成MAC地址泄露等问题。

#### 数据库自增ID
- 数据库自增 ID 是最常见的一种生成 ID 方式。利用数据库本身来进行设置，在全数据库内保持唯一。优势是使用简单，满足基本业务需求，天然有序；缺点是强依赖 DB，会由于数据库部署的一些特性而存在单点故障、数据一致性等问题。
- 针对上面介绍的数据库自增 ID 的缺陷，会存在以下两种优化方案：
	1. 数据库水平拆分，设置不同的初始值和相同的步长。这样可以有效的生成集群中的唯一 ID，也大大降低 ID 生成数据库操作的负载。
	2. 批量生成一批 ID。这样可以将数据库的压力减小到先前的 N 分之一，且数据库故障后仍可继续使用一段时间。
- 数据库自增 ID 方案的优势是非常简单，可利用现有数据库系统的功能实现；ID 号单调自增。其缺陷包括强依赖 DB，当 DB 异常时整个系统将处于不可用的状态；ID 号的生成速率取决于所使用数据库的读写性能。
#### Redis生成ID
- 可以尝试使用 Redis 来生成 ID，主要使用 Redis 的原子操作 INCR 和 INCRBY 来实现。优势是不依赖于数据库，使用灵活，性能也优于数据库；而缺点则是可能要引入新的组件 Redis，如果 Redis 出现单点故障问题，则会影响序号服务的可用性。
#### Zookeeper生成ID
#### 雪花算法
### 2.特性：
	- 全局唯一：必须保证生成的 ID 是全局性唯一的，这是分布式 ID 的基本要求；
	- 有序性：生成的 ID 需要按照某种规则有序，便于数据库的写入和排序操作；
	- 可用性：需要保证高并发下的可用性。除了对 ID 号码自身的要求，业务还对 ID 生成系统的可用性要求极高；
	- 自主性：分布式环境下不依赖中心认证即可自行生成 ID；
	- 安全性：不暴露系统和业务的信息。在一些业务场景下，会需要 ID 无规则或者不规则。